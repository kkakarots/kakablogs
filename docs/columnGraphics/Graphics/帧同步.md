**帧同步**（Frame Synchronization）是实时对战类游戏（如王者荣耀、LOL、星际争霸）中非常核心的一种 **多人同步架构**，它的目标是：

> 保证所有玩家在游戏中看到的结果是一致的，且在网络延迟可控范围内完成实时互动。

---

## ✅ 什么是帧同步？

### 简单理解：

> **每一帧（tick）都发送并执行所有玩家的输入指令**，再同步给所有人，一起执行。

* 玩家并不直接同步“单位的位置”或“血量”
* 而是同步“输入动作”或“控制指令”（如移动、攻击、放技能）
* 所有玩家的客户端接收同样的指令序列，执行结果保持一致

---

## 📦 举个例子

1. 玩家 A 在第 100 帧点击移动到 (5, 5)
2. 客户端将 “玩家A在100帧执行移动(5,5)” 发送给服务器
3. 服务器收集所有玩家在第 100 帧的输入指令
4. 到达第 100 帧时，服务器将所有输入广播给所有客户端
5. 所有客户端执行相同的逻辑函数，得出一样的游戏状态

> ✅ 所有玩家都执行 **同一帧输入+同样的逻辑代码**，就能保持世界一致！

---

## 🧠 帧同步 vs 状态同步（对比理解）

| 特性   | 帧同步（Frame Sync） | 状态同步（State Sync）   |
| ---- | --------------- | ------------------ |
| 同步内容 | 玩家输入指令          | 游戏对象状态             |
| 数据量  | 小（仅指令）          | 大（位置、血量等）          |
| 一致性  | 非常强（执行结果保持一致）   | 容易漂移（依赖频繁矫正）       |
| 实现难度 | 中等，需确定游戏逻辑完全一致  | 简单，但要防漂移           |
| 容错   | 对丢包敏感           | 容错较强（可重发状态）        |
| 适合   | MOBA、RTS、棋牌、格斗  | MMO、ARPG、开放世界      |
| 代表游戏 | 王者荣耀、LOL、星际争霸   | 魔兽世界、原神、CS\:GO（混合） |

---

## 🔧 帧同步的核心结构

```text
┌──────────┐       ┌──────────┐       ┌──────────┐
│ 玩家 A   │──────▶│         │◀──────▶│ 玩家 B   │
│ 输入指令│       │ 服务器   │       │ 输入指令│
└──────────┘       └──────────┘       └──────────┘

                ▲           ▲
                │ 收集所有玩家帧指令
                ▼
           广播这一帧所有输入 → 所有客户端执行
```

---

## 🔐 帧同步为什么难？

* 所有客户端的 **游戏逻辑代码必须完全一致**（浮点数精度、路径判断等）
* 网络延迟必须容忍（一般会有 `1~2帧延迟缓存`）
* 需要防作弊（客户端必须是纯输入，不可信任）
* 对慢速玩家要进行“帧等待”或“帧预测”，防止拖累整个房间

---

## ✅ 总结一句话：

> **帧同步是将所有玩家的输入操作汇总，同步给所有客户端一起执行，从而确保游戏状态一致的一种轻量、可控的同步方案。**

它非常适合：

* 小型对战游戏
* MOBA（王者荣耀、LOL）
* RTS（星际争霸）
* 棋牌/格斗游戏

---

<!-- 🛠 如果你想自己做一个帧同步 demo，我可以：

* 给你写一个 Unity、Godot、JS 的示例
* 或者用 Node.js + WebSocket 帮你搭建一个简化的服务端模拟

需要的话，随时说！ -->
